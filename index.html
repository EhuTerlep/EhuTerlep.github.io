<html>
  <head>
        <script src ="p5.min.js"></script>
        <script src ="p5.collide2d.min.js"></script>
        <script src ="jumper.js"></script>
        <script src ="barrier.js"></script>
        <script src ="barrier2.js"></script>
  <style>
  body {
    overflow:hidden;
    margin :0;
    padding :0;
  }
  </style>
  </head>
  <body>
        <h1 id = "amount"></h1>
    <script>
    var hit = false;
    var w = window.innerWidth;
    var h = window.innerHeight;
    var barrier = new barrier();
        var barrier2 = new barrier2();
    var jumper = new jumper();
        var points = new points();
var d;
var tally = 0;

    function setup() {
      bg = loadImage('download.jpeg');
      createCanvas(w,h);
    }
    function draw() {
    background(bg);
       barrier.show();
      barrier.update();
       barrier2.show();
      barrier2.update();
      jumper.show();
      jumper.update();
      jumper.move();
      points.show();
      points.score();
     hit = collideRectRect(barrier.x,barrier.y,200,50,jumper.x,jumper.y,50,50);
      if (hit == true){
        noLoop()
        window.alert("you lose")
      }
    var randX = random(-30,30);
    points.x += randX;
    var randY = random(-30,30);
    points.y += randY;

    }
    //-------------------------------------------------------------------------------------
      function points() {
      this.x = w/2;
      this.y = h/2;
       this.l = 25;
      this.w = 25;
      this.show = function() {
        fill(color('yellow'));
       ellipse(this.x,this.y,this.l,this.w);
      };
 this.score = function(){
           d = dist(this.x,this.y,jumper.x,jumper.y);
           if (d < 50){
         tally++;
        document.getElementById('amount').innerHTML = "Your score : " + tally;
        }
            if(this.x > w-50) {
          this.x = w/2;
          this.y = h/2;
        }
        if(this.x < 50) {
          this.x = w/2;
          this.y = h/2;
        }
        if(this.y < 50) {
          this.x = w/2;
          this.y = h/2;
        }
        if(this.y > h-50) {
          this.x = w/2;
          this.y = h/2
        }
 }
    }
    </script>
  </body>
</html>
